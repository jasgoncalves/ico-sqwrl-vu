<br>
<div class="container-fluid">
    <h1 class="display-6">Query The Ontology</h1>
    <br>
    <div class="input-group mb-3">
        <select class="custom-select" id="inputGroupSelect04" aria-label="Example select with button addon">
            <option value="0" selected>Select a predefined query ...</option>
            <option value="1">What are the metaheuristics published after 2015 ?</option>
            <option value="2">What are the Python libraries implementing NSGA-III ?</option>
            <option value="3">What are the metaheuristics that were tested in Knapsack problem ?</option>
            <option value="4">What are the metaheuristics that were tested in Knapsack problem having Java libraries implementations ?</option>
            <option value="5">Which order relations have been proposed to many-objective optimisation ?</option>
            <option value="6">Who are the researchers working both in decomposition-based and indicator-based metaheuristics ?</option>
        </select>
        <div class="input-group-append">
            <button class="btn btn-outline-secondary" type="button">Run Query</button>
        </div>
    </div>
    <br>
    <p class="text-center">Select a predefined query or Create your own customised query. Then, 'Run the query'.</p>
    <br>
    <table class="table table-striped table-bordered">
        <thead class="thead-dark">
            <tr>
                <th scope="col">Entity Type</th>
                <th scope="col">Entity</th>
                <th scope="col">Ordered By</th>
                <th scope="col">Show Column</th>
                <th scope="col">Action</th>
            </tr>
        </thead>
        <tbody>
            <tr *ngFor="let query of queryArray; let i = index">
                <td>
                    <div class="input-group">
                        <select [(ngModel)]="query.entityType" class="form-select" name="{{query.entityType}}" (ngModelChange)="onChange($event)">
                            <option selected>{{query.entityType}}</option>
                            <option value="Class">Class</option>
                            <option value="DatatypeProperty">DatatypeProperty</option>
                            <option value="Individual">Individual</option>
                            <option value="ObjectProperty">ObjectProperty</option>
                            <option value="RelationalOperator">RelationalOperator</option>
                        </select>
                    </div>
                </td>
                <td>
                    <div class="input-group">
                        <select [(ngModel)]="query.entity" class="form-select" name="{{query.entity}}" >
                            <option selected>{{query.entity}}</option>
                            <option *ngFor="let entity of entityType; let i = index" value="{{entity.label}}">{{entity.label}}</option>
                        </select>
                    </div>
                </td>
                <td>
                    <input [(ngModel)]="query.isOrderedBy" class="form-check-input" type="checkbox" name="{{query.isOrderedBy}}" />
                </td>
                <td>
                    <input [(ngModel)]="query.isShowedInResult" class="form-check-input" type="checkbox" name="{{query.isShowedInResult}}" />
                </td>
                <td>
                    <button class="btn btn-default"  type="button" (click)="deleteRow(i)">Delete</button>
                </td>
            </tr>
            <tr>
                <td>
                    <div class="input-group">
                        <select id="newRowEntityType" [(ngModel)]="newRow.entityType" class="form-select" name="newRowEntityType" (ngModelChange)="onChange($event)">
                            <option selected>{{newRow.entityType}}</option>
                            <option value="Class">Class</option>
                            <option value="DatatypeProperty">DatatypeProperty</option>
                            <option value="Individual">Individual</option>
                            <option value="ObjectProperty">ObjectProperty</option>
                            <option value="RelationalOperator">RelationalOperator</option>
                        </select>
                    </div>
                </td>
                <td>
                    <div *ngIf='!loading' class="input-group">
                        <select [(ngModel)]="newRow.entity" class="form-select" name="{{newRow.entity}}" >
                            <option selected>{{newRow.entity}}</option>
                            <option *ngFor="let entity of entityType; let i = index" value="{{entity.label}}">{{entity.label}}</option>
                        </select>
                    </div>
                    <div  *ngIf='loading' class="d-flex justify-content-center">
                        <div class="spinner-grow" role="status"></div>
                    </div>
                    
                </td>
                <td>
                    <input class="form-check-input" type="checkbox" id="newRowIsOrderedBy" [(ngModel)]="newRow.isOrderedBy" name="newRowIsOrderedBy" />
                </td>
                <td>
                    <input class="form-check-input" type="checkbox" id="newRowIsShowedInResult" [(ngModel)]="newRow.isShowedInResult" name="newRowIsShowedInResult" />
                </td>
                <td>
                    <button class="btn btn-default" type="button" (click)="addRow()">Add</button>
                </td>
            </tr>
        </tbody>
    </table>
</div>